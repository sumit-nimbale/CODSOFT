import json
from sklearn.metrics import accuracy_score, precision_score, recall_score, f1_score

final_metrics = {
    "model_name": "Linear SVM",
    "vectorizer": "TF-IDF",
    "ngram_range": [1, 2],
    "threshold": 0.5,
    "metrics": {
        "accuracy": accuracy_score(y_test, y_pred),
        "precision": precision_score(y_test, y_pred),
        "recall": recall_score(y_test, y_pred),
        "f1_score": f1_score(y_test, y_pred)
    },
    "confusion_matrix": {
        "true_negative": int(cm[0][0]),
        "false_positive": int(cm[0][1]),
        "false_negative": int(cm[1][0]),
        "true_positive": int(cm[1][1])
    }
}

with open("metrics/final_model_metrics.json", "w") as f:
    json.dump(final_metrics, f, indent=4)

{
  "model_name": "Linear SVM",
  "vectorizer": "TF-IDF",
  "ngram_range": [1, 2],
  "threshold": 0.5,
  "metrics": {
    "accuracy": 0.9829,
    "precision": 0.9779,
    "recall": 0.8926,
    "f1_score": 0.9333
  },
  "confusion_matrix": {
    "true_negative": 955,
    "false_positive": 10,
    "false_negative": 12,
    "true_positive": 138
  }
}
